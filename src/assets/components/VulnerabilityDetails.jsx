import React, { useState } from "react";
import BtnSales from "./BtnSales";
import VulnerabilityOption from "./VulnerabilityOption"

export default function VulnerabilityDetails() {

  // نگهداری آیتم انتخاب‌شده
  const [selectedTitle, setSelectedTitle] = useState("vulnerability");
  const [title, setTitle] = useState("Vulnerability Management");
  const [paragraphs, setParagraphs] = useState([
    `Traditional vulnerability management platforms struggle with excessive false positives and noise. Our vulnerability management platform, powered by Nuclei, delivers high-fidelity scanning to identify actual exploitable vulnerabilities that have real-world impact rather than just relying on CVSS scores. By leveraging the global open-source community, our library of over 9,000 Nuclei templates reflect the latest CVEs and trending misconfigurations.`,
    `Our product integrates asset data from cloud platforms to provide essential context, allowing you to prioritize and manage vulnerabilities effectively. With multiple status tracking and easy export options via JSON, API, or Jira integration, remediation is streamlined for your engineering teams.`,
  ]);
  const [options, setOptions] = useState([
    "Exploitable vulnerabilities",
    "10x faster triage",
    "Open source community",
  ]);

  // آرایه‌ای از عناوین با شناسه‌ها و برچسب‌ها
  const titles = [
    {
      id: "vulnerability",
      label: "Vulnerability Management",
      restOfTitle: "",
      text: [
        `Traditional vulnerability management platforms struggle with excessive false positives and noise. Our vulnerability management platform, powered by Nuclei, delivers high-fidelity scanning to identify actual exploitable vulnerabilities that have real-world impact rather than just relying on CVSS scores. By leveraging the global open-source community, our library of over 9,000 Nuclei templates reflect the latest CVEs and trending misconfigurations.
      `,
        `
      Our product integrates asset data from cloud platforms to provide essential context, allowing you to prioritize and manage vulnerabilities effectively. With multiple status tracking and easy export options via JSON, API, or Jira integration, remediation is streamlined for your engineering teams.
      `,
      ],
      options: [
        "Exploitable vulnerabilities",
        "10x faster triage",
        "Open source community",
      ],
    },
    {
      id: "attack",
      label: "Attack Surface Management",
      restOfTitle: " (ASM)",
      text: [
        `
      Managing an organization's attack surface is increasingly complex with the expansion of cloud environments and shadow IT. Our platform offers industry-leading reconnaissance, powered by our globally popular open-source tools like Subfinder, Naabu, Chaos, and more, to continuously discover your attack surface.
      `,
        ` Our comprehensive library and real-time feed of Nuclei templates detect not only trending CVEs but also exposed panels, misconfigurations, and other critical issues across your full attack surface. A successful attack surface management program goes beyond discovery—it ensures critical vulnerabilities are detected early and remediated, reducing your overall risk and strengthening your security posture.`,
      ],
      options: [
        "Advanced reconnaissance",
        "AI query and filters",
        "Labels, asset owners",
      ],
    },
    {
      id: "compliance",
      label: "Compliance",
      restOfTitle: " and Security",
      text: [
        `
      Compliance-driven security tools today are expensive, outdated, and do little beyond compliance to improve an organization's security posture. Our platform not only helps identify critical issues and exploits in your infrastructure but also satisfies compliance frameworks like SOC 2, PCI, and others.`,
        `We provide the necessary integrations and reporting to meet regulatory requirements and help you pass your next audit. Beyond compliance, our platform enhances your overall security by addressing real-world vulnerabilities, ensuring continuous protection while reducing risk.`,
      ],
      options: ["SOC 2", "PCI", "HIPAA"],
    },
  ];

  return (
    <>
      <section className="custom-container-sm mt-14">
        <div className="relative z-40 flex w-full flex-col gap-2 md:flex-row md:gap-10">
          <div className="w-full md:w-1/3 md:pl-10">
            <div className="flex h-auto w-full flex-col pb-12 pt-12 md:border-r md:border-gray/15 md:pb-20 md:pt-14">
              {titles.map((title) => (
                <div key={title.id}>
                  <h5
                    onClick={() => {
                      setSelectedTitle(title.id);
                      setTitle(title.label + title.restOfTitle);
                      setParagraphs(title.text);
                      setOptions(title.options);
                    }}
                    className={`text-gray font-medium tracking-xs text-sm md:text-base leading-base relative w-full p-5 md:border-b md:border-gray/15 cursor-pointer hover:text-white ${
                      selectedTitle === title.id ? "text-white" : ""
                    }`}
                  >
                    {title.label}
                  </h5>
                </div>
              ))}
            </div>
          </div>
          <div className="flex w-full flex-col justify-center gap-6 p-4 md:w-2/3 md:p-12">
            <div className="text-white">
              <h5 className="text-xl font-semibold">{title}</h5>
            </div>
            <div className="max-w-160 font-light tracking-xs text-sm md:text-base text-gray leading-6">
              <p className="">{paragraphs[0]}</p>
              <br />
              <p className="">{paragraphs[1]}</p>
            </div>
            <div className="flex w-full flex-col items-start gap-6 md:flex-row">
              <VulnerabilityOption option={options[0]} />
              <VulnerabilityOption option={options[1]} />
              <VulnerabilityOption option={options[2]} />
            </div>
            <div className="">
              <BtnSales/>
            </div>
          </div>
        </div>
      </section>
    </>
  );
}
